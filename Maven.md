
## Maven Build Lifecycle

The Maven build follows a specific lifecycle to deploy and distribute the target project.  
Maven 构建遵循特定的生命周期来部署和分发目标项目。

There are three built-in lifecycles:  
内置了三个生命周期：

-   default: the main lifecycle, as it's responsible for project deployment  
    默认：主生命周期，因为它负责项目部署
-   clean: to clean the project and remove all files generated by the previous build  
    clean：清理项目并删除之前构建生成的所有文件
-   site: to create the project's site documentation  
    site：创建项目的站点文档

**Each lifecycle consists of a sequence of phases.** The _default_ build lifecycle consists of 23 phases, as it's the main build lifecycle.  
每个生命周期都由一系列阶段组成。默认构建生命周期包含 23 个阶段，因为它是主要的构建生命周期。

On the other hand, the _clean_ life cycle consists of 3 phases, while the _site_ lifecycle is made up of 4 phases.  
另一方面，清洁生命周期由 3 个阶段组成，而站点生命周期由 4 个阶段组成。

## Maven _default_ build lifecycle


以下列表显示了最重要的 Maven 生命周期阶段：

-   _validate_ – 检查项目的正确性
    
-   _compile_ – 将提供的源代码编译成二进制
     
-   _test_ –  执行单元测试
    
-   _package_ – 将编译后的代码打包到归档文件中
    
-   _integration-test_ –    集成测试,执行额外的测试，这需要打包
    
-   _verify_ – 检查包是否有效  
    
-   _install_ – 将包文件安装到本地 Maven 存储库  
    
-   _deploy_ – 将包文件部署到远程服务器或存储库 

## Maven Phase
_A Maven phase represents a stage in the Maven build lifecycle. Each phase is responsible for a specific task._  
Maven 阶段代表 Maven 构建生命周期中的一个阶段。每个阶段负责一个特定的任务

_Phases are executed in a specific order. This means that if we run a specific phase using the command_  
阶段按特定顺序执行。这意味着如果我们使用以下命令运行特定阶段
_It won't only execute the specified phase, but all the preceding phases as well._
它不仅会执行指定的阶段，还会执行所有前面的阶段.

## Maven Goal
**Each phase is a sequence of goals, and each goal is responsible for a specific task.  
每个阶段都是一系列目标，每个目标负责一个特定的任务。**

When we run a phase, all goals bound to this phase are executed in order.  
__当我们运行一个阶段时，绑定到这个阶段的所有目标都会按顺序执行__

Here are some of the phases and default goals bound to them:  
以下是一些阶段和与它们绑定的默认目标：

-   _compiler:compile_ – the _compile_ goal from the _compiler_ plugin is bound to the _compile_ phase  
    compiler:compile——编译器插件的编译目标绑定到编译阶段
-   _compiler:testCompile_ is bound to the _test-compile_ phase  
    compiler:testCompile 绑定到测试编译阶段
-   _surefire:test_ is bound to the _test_ phase  
    surefire:test 绑定到测试阶段
-   _install:install_ is bound to the _install_ phase  
    install:install 绑定到安装阶段
-   _jar:jar_ and _war:war_ is bound to the _package_ phase  
    jar:jar 和war:war 绑定到包阶段
## Maven plugin

**A Maven plugin is a group of goals**; however, these goals aren't necessarily all bound to the same phase.  
__一个 Maven 插件是一组目标；但是，这些目标不一定都绑定到同一阶段__
For example, here's a simple configuration of the Maven Failsafe plugin, which is responsible for running integration tests:  
例如，这里是 Maven Failsafe 插件的一个简单配置，它负责运行集成测试：

```xml
<build>
    <plugins>
        <plugin>
            <artifactId>maven-failsafe-plugin</artifactId>
            <version>${maven.failsafe.version}</version>
            <executions>
                <execution>
                    <goals>
                        <goal>integration-test</goal>
                        <goal>verify</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build>
```

As we can see, the Failsafe plugin has two main goals configured here:  
正如我们所见，Failsafe 插件在这里配置了两个主要目标：

-   _integration-test_: run integration tests  
    集成测试：运行集成测试
-   _verify_: verify all integration tests passed  
    验证：验证所有集成测试是否通过

We can use the following command to **list all goals in a specific plugin**:  
我们可以使用以下命令列出特定插件中的所有目标：

```bash
mvn <PLUGIN>:help
```